{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst urlBackTo = createSlice({\n  name: \"url\",\n  initialState: {\n    urlBackTo: []\n  },\n  reducers: {\n    addProduct: (state, action) => {\n      const productToAdd = action.payload;\n      const productIndex = state.cartItems.findIndex(p => p._id === productToAdd._id);\n      if (productIndex === -1) {\n        state.cartItems.push({\n          ...productToAdd,\n          quantity: 1,\n          sizeOrder: \"\"\n        });\n      } else {\n        state.cartItems[productIndex].quantity += 1;\n      }\n    },\n    deleteProduct: (state, action) => {\n      const productIdToRemove = action.payload._id;\n      console.log(productIdToRemove);\n      state.cartItems = state.cartItems.filter(item => item._id !== productIdToRemove);\n    },\n    updateQuantity: (state, action) => {\n      const {\n        _id,\n        quantity\n      } = action.payload;\n      console.log(quantity);\n      const productToUpdateIndex = state.cartItems.findIndex(p => p._id === _id);\n      if (productToUpdateIndex !== -1) {\n        const newQuantity = Math.max(1, quantity);\n        state.cartItems[productToUpdateIndex].quantity = newQuantity;\n      }\n    },\n    updateSizeProduct: (state, action) => {\n      const {\n        _id,\n        sizeOrder\n      } = action.payload;\n      const productToUpdateIndex = state.cartItems.findIndex(p => p._id === _id);\n      if (productToUpdateIndex !== -1) {\n        state.cartItems[productToUpdateIndex].sizeOrder = sizeOrder;\n      }\n    },\n    resetCart: state => {\n      state.cartItems = [];\n    }\n  }\n});","map":{"version":3,"names":["createSlice","urlBackTo","name","initialState","reducers","addProduct","state","action","productToAdd","payload","productIndex","cartItems","findIndex","p","_id","push","quantity","sizeOrder","deleteProduct","productIdToRemove","console","log","filter","item","updateQuantity","productToUpdateIndex","newQuantity","Math","max","updateSizeProduct","resetCart"],"sources":["/Users/ngoctruong/Documents/App Monkey Messenger/client/src/Redux/Slice/RouterBack.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst urlBackTo = createSlice({\n    name: \"url\",\n    initialState: {\n        urlBackTo: []\n    },\n    reducers: {\n        addProduct: (state, action) => {\n            const productToAdd = action.payload;\n            const productIndex = state.cartItems.findIndex((p) => p._id === productToAdd._id);\n\n            if (productIndex === -1) {\n                state.cartItems.push({ ...productToAdd, quantity: 1, sizeOrder: \"\" });\n            } else {\n                state.cartItems[productIndex].quantity += 1;\n            }\n        },\n        deleteProduct: (state, action) => {\n            const productIdToRemove = action.payload._id;\n            console.log(productIdToRemove)\n            state.cartItems = state.cartItems.filter((item) => item._id !== productIdToRemove);\n        },\n        updateQuantity: (state, action) => {\n            const { _id, quantity } = action.payload;\n            console.log(quantity)\n            const productToUpdateIndex = state.cartItems.findIndex((p) => p._id === _id);\n\n            if (productToUpdateIndex !== -1) {\n                const newQuantity = Math.max(1, quantity);\n                state.cartItems[productToUpdateIndex].quantity = newQuantity;\n            }\n        },\n        updateSizeProduct: (state, action) => {\n            const { _id, sizeOrder } = action.payload;\n            const productToUpdateIndex = state.cartItems.findIndex((p) => p._id === _id);\n\n            if (productToUpdateIndex !== -1) {\n                state.cartItems[productToUpdateIndex].sizeOrder = sizeOrder;\n            }\n        },\n        resetCart: (state) => {\n            state.cartItems = [];\n        },\n    },\n});"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,SAAS,GAAGD,WAAW,CAAC;EAC1BE,IAAI,EAAE,KAAK;EACXC,YAAY,EAAE;IACVF,SAAS,EAAE;EACf,CAAC;EACDG,QAAQ,EAAE;IACNC,UAAU,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC3B,MAAMC,YAAY,GAAGD,MAAM,CAACE,OAAO;MACnC,MAAMC,YAAY,GAAGJ,KAAK,CAACK,SAAS,CAACC,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACC,GAAG,KAAKN,YAAY,CAACM,GAAG,CAAC;MAEjF,IAAIJ,YAAY,KAAK,CAAC,CAAC,EAAE;QACrBJ,KAAK,CAACK,SAAS,CAACI,IAAI,CAAC;UAAE,GAAGP,YAAY;UAAEQ,QAAQ,EAAE,CAAC;UAAEC,SAAS,EAAE;QAAG,CAAC,CAAC;MACzE,CAAC,MAAM;QACHX,KAAK,CAACK,SAAS,CAACD,YAAY,CAAC,CAACM,QAAQ,IAAI,CAAC;MAC/C;IACJ,CAAC;IACDE,aAAa,EAAEA,CAACZ,KAAK,EAAEC,MAAM,KAAK;MAC9B,MAAMY,iBAAiB,GAAGZ,MAAM,CAACE,OAAO,CAACK,GAAG;MAC5CM,OAAO,CAACC,GAAG,CAACF,iBAAiB,CAAC;MAC9Bb,KAAK,CAACK,SAAS,GAAGL,KAAK,CAACK,SAAS,CAACW,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACT,GAAG,KAAKK,iBAAiB,CAAC;IACtF,CAAC;IACDK,cAAc,EAAEA,CAAClB,KAAK,EAAEC,MAAM,KAAK;MAC/B,MAAM;QAAEO,GAAG;QAAEE;MAAS,CAAC,GAAGT,MAAM,CAACE,OAAO;MACxCW,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;MACrB,MAAMS,oBAAoB,GAAGnB,KAAK,CAACK,SAAS,CAACC,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACC,GAAG,KAAKA,GAAG,CAAC;MAE5E,IAAIW,oBAAoB,KAAK,CAAC,CAAC,EAAE;QAC7B,MAAMC,WAAW,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEZ,QAAQ,CAAC;QACzCV,KAAK,CAACK,SAAS,CAACc,oBAAoB,CAAC,CAACT,QAAQ,GAAGU,WAAW;MAChE;IACJ,CAAC;IACDG,iBAAiB,EAAEA,CAACvB,KAAK,EAAEC,MAAM,KAAK;MAClC,MAAM;QAAEO,GAAG;QAAEG;MAAU,CAAC,GAAGV,MAAM,CAACE,OAAO;MACzC,MAAMgB,oBAAoB,GAAGnB,KAAK,CAACK,SAAS,CAACC,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACC,GAAG,KAAKA,GAAG,CAAC;MAE5E,IAAIW,oBAAoB,KAAK,CAAC,CAAC,EAAE;QAC7BnB,KAAK,CAACK,SAAS,CAACc,oBAAoB,CAAC,CAACR,SAAS,GAAGA,SAAS;MAC/D;IACJ,CAAC;IACDa,SAAS,EAAGxB,KAAK,IAAK;MAClBA,KAAK,CAACK,SAAS,GAAG,EAAE;IACxB;EACJ;AACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}