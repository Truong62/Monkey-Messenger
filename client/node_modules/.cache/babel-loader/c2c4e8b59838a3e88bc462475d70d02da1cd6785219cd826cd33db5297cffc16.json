{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nconst useApiUser = (url, initialData = {}) => {\n  _s();\n  const [data, setData] = useState(initialData);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const fetchData = async () => {\n    try {\n      setIsLoading(true);\n      const response = await axios.get(url);\n      setData(response.data);\n    } catch (error) {\n      setIsError(true);\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const postData = async newData => {\n    try {\n      setIsLoading(true);\n      const response = await axios.post(url, newData);\n      setData(response.data);\n    } catch (error) {\n      setIsError(true);\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const putData = async newData => {\n    try {\n      setIsLoading(true);\n      const response = await axios.put(url, newData);\n      setData(response.data);\n    } catch (error) {\n      setIsError(true);\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const deleteData = async id => {\n    try {\n      setIsLoading(true);\n      await axios.delete(`${url}/${id}`);\n      const updatedData = data.filter(item => item.id !== id);\n      setData(updatedData);\n    } catch (error) {\n      setIsError(true);\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return {\n    data,\n    isLoading,\n    isError,\n    fetchData,\n    postData,\n    putData,\n    deleteData\n  };\n};\n_s(useApiUser, \"8KnjeOIBB1lKQLuYWbX1KDOGWQo=\");\nexport default useApiUser;","map":{"version":3,"names":["useState","useEffect","axios","useApiUser","url","initialData","_s","data","setData","isLoading","setIsLoading","isError","setIsError","fetchData","response","get","error","console","postData","newData","post","putData","put","deleteData","id","delete","updatedData","filter","item"],"sources":["/Users/ngoctruong/Documents/App Monkey Messenger/client/src/Components/Hook/useCreateApi.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst useApiUser = (url, initialData = {}) => {\n    const [data, setData] = useState(initialData);\n    const [isLoading, setIsLoading] = useState(false);\n    const [isError, setIsError] = useState(false);\n\n    const fetchData = async () => {\n        try {\n            setIsLoading(true);\n            const response = await axios.get(url);\n            setData(response.data);\n        } catch (error) {\n            setIsError(true);\n            console.error(error);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        fetchData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const postData = async (newData) => {\n        try {\n            setIsLoading(true);\n            const response = await axios.post(url, newData);\n            setData(response.data);\n        } catch (error) {\n            setIsError(true);\n            console.error(error);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const putData = async (newData) => {\n        try {\n            setIsLoading(true);\n            const response = await axios.put(url, newData);\n            setData(response.data);\n        } catch (error) {\n            setIsError(true);\n            console.error(error);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const deleteData = async (id) => {\n        try {\n            setIsLoading(true);\n            await axios.delete(`${url}/${id}`);\n            const updatedData = data.filter((item) => item.id !== id);\n            setData(updatedData);\n        } catch (error) {\n            setIsError(true);\n            console.error(error);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return {\n        data,\n        isLoading,\n        isError,\n        fetchData,\n        postData,\n        putData,\n        deleteData,\n    };\n};\n\nexport default useApiUser;\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,UAAU,GAAGA,CAACC,GAAG,EAAEC,WAAW,GAAG,CAAC,CAAC,KAAK;EAAAC,EAAA;EAC1C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAACK,WAAW,CAAC;EAC7C,MAAM,CAACI,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMa,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACAH,YAAY,CAAC,IAAI,CAAC;MAClB,MAAMI,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAACX,GAAG,CAAC;MACrCI,OAAO,CAACM,QAAQ,CAACP,IAAI,CAAC;IAC1B,CAAC,CAAC,OAAOS,KAAK,EAAE;MACZJ,UAAU,CAAC,IAAI,CAAC;MAChBK,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACxB,CAAC,SAAS;MACNN,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC;EAEDT,SAAS,CAAC,MAAM;IACZY,SAAS,CAAC,CAAC;IACX;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMK,QAAQ,GAAG,MAAOC,OAAO,IAAK;IAChC,IAAI;MACAT,YAAY,CAAC,IAAI,CAAC;MAClB,MAAMI,QAAQ,GAAG,MAAMZ,KAAK,CAACkB,IAAI,CAAChB,GAAG,EAAEe,OAAO,CAAC;MAC/CX,OAAO,CAACM,QAAQ,CAACP,IAAI,CAAC;IAC1B,CAAC,CAAC,OAAOS,KAAK,EAAE;MACZJ,UAAU,CAAC,IAAI,CAAC;MAChBK,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACxB,CAAC,SAAS;MACNN,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC;EAED,MAAMW,OAAO,GAAG,MAAOF,OAAO,IAAK;IAC/B,IAAI;MACAT,YAAY,CAAC,IAAI,CAAC;MAClB,MAAMI,QAAQ,GAAG,MAAMZ,KAAK,CAACoB,GAAG,CAAClB,GAAG,EAAEe,OAAO,CAAC;MAC9CX,OAAO,CAACM,QAAQ,CAACP,IAAI,CAAC;IAC1B,CAAC,CAAC,OAAOS,KAAK,EAAE;MACZJ,UAAU,CAAC,IAAI,CAAC;MAChBK,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACxB,CAAC,SAAS;MACNN,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC;EAED,MAAMa,UAAU,GAAG,MAAOC,EAAE,IAAK;IAC7B,IAAI;MACAd,YAAY,CAAC,IAAI,CAAC;MAClB,MAAMR,KAAK,CAACuB,MAAM,CAAE,GAAErB,GAAI,IAAGoB,EAAG,EAAC,CAAC;MAClC,MAAME,WAAW,GAAGnB,IAAI,CAACoB,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACJ,EAAE,KAAKA,EAAE,CAAC;MACzDhB,OAAO,CAACkB,WAAW,CAAC;IACxB,CAAC,CAAC,OAAOV,KAAK,EAAE;MACZJ,UAAU,CAAC,IAAI,CAAC;MAChBK,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACxB,CAAC,SAAS;MACNN,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC;EAED,OAAO;IACHH,IAAI;IACJE,SAAS;IACTE,OAAO;IACPE,SAAS;IACTK,QAAQ;IACRG,OAAO;IACPE;EACJ,CAAC;AACL,CAAC;AAACjB,EAAA,CAxEIH,UAAU;AA0EhB,eAAeA,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}