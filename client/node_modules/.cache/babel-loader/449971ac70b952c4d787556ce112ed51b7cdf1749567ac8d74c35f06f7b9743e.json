{"ast":null,"code":"var _s2 = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nconst useApiUser = url => {\n  _s2();\n  var _s = $RefreshSig$();\n  const [data, setData] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const postData = async newData => {\n    try {\n      setIsLoading(true);\n      const response = await axios.post(url, newData);\n      setData(prevData => ({\n        ...prevData,\n        OTP: response.data\n      }));\n      setIsLoading(false);\n    } catch (error) {\n      setIsError(true);\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handlePostData = async newData => {\n    _s();\n    await postData(newData);\n    useEffect(() => {\n      console.log(data);\n    }, [data]);\n  };\n  _s(handlePostData, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n  const putData = async newData => {\n    try {\n      setIsLoading(true);\n      const response = await axios.put(url, newData);\n      setData(response.data);\n    } catch (error) {\n      setIsError(true);\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const deleteData = async id => {\n    try {\n      setIsLoading(true);\n      await axios.delete(`${url}/${id}`);\n      const updatedData = data.filter(item => item.id !== id);\n      setData(updatedData);\n    } catch (error) {\n      setIsError(true);\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n\n    // const fetchData = async () => {\n    //     try {\n    //         setIsLoading(true);\n    //         const response = await axios.get(url);\n    //         setData(response.data);\n    //     } catch (error) {\n    //         setIsError(true);\n    //         console.error(error);\n    //     } finally {\n    //         setIsLoading(false);\n    //     }\n    // };\n\n    // useEffect(() => {\n    //     fetchData();\n    //     // eslint-disable-next-line react-hooks/exhaustive-deps\n    // }, []);\n  };\n  return {\n    handlePostData,\n    data,\n    isLoading,\n    isError,\n    postData,\n    putData,\n    deleteData\n  };\n};\n_s2(useApiUser, \"m+7arwyY49PxDj72bxlb7Y11i3o=\");\nexport default useApiUser;","map":{"version":3,"names":["useEffect","useState","axios","useApiUser","url","_s2","_s","$RefreshSig$","data","setData","isLoading","setIsLoading","isError","setIsError","postData","newData","response","post","prevData","OTP","error","console","handlePostData","log","putData","put","deleteData","id","delete","updatedData","filter","item"],"sources":["/Users/ngoctruong/Documents/App Monkey Messenger/client/src/Components/Hook/useCreateApi.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nconst useApiUser = (url) => {\n    const [data, setData] = useState({});\n    const [isLoading, setIsLoading] = useState(false);\n    const [isError, setIsError] = useState(false);\n\n    const postData = async (newData) => {\n        try {\n            setIsLoading(true);\n            const response = await axios.post(url, newData);\n            setData((prevData) => ({\n                ...prevData,\n                OTP: response.data\n            }));\n            setIsLoading(false);\n        } catch (error) {\n            setIsError(true);\n            console.error(error);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const handlePostData = async (newData) => {\n        await postData(newData);\n        useEffect(() => {\n            console.log(data);\n        }, [data]);\n    };\n\n    const putData = async (newData) => {\n        try {\n            setIsLoading(true);\n            const response = await axios.put(url, newData);\n            setData(response.data);\n        } catch (error) {\n            setIsError(true);\n            console.error(error);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const deleteData = async (id) => {\n        try {\n            setIsLoading(true);\n            await axios.delete(`${url}/${id}`);\n            const updatedData = data.filter((item) => item.id !== id);\n            setData(updatedData);\n        } catch (error) {\n            setIsError(true);\n            console.error(error);\n        } finally {\n            setIsLoading(false);\n        }\n\n        // const fetchData = async () => {\n        //     try {\n        //         setIsLoading(true);\n        //         const response = await axios.get(url);\n        //         setData(response.data);\n        //     } catch (error) {\n        //         setIsError(true);\n        //         console.error(error);\n        //     } finally {\n        //         setIsLoading(false);\n        //     }\n        // };\n\n        // useEffect(() => {\n        //     fetchData();\n        //     // eslint-disable-next-line react-hooks/exhaustive-deps\n        // }, []);\n\n    };\n\n    return {\n        handlePostData,\n        data,\n        isLoading,\n        isError,\n        postData,\n        putData,\n        deleteData,\n    };\n};\n\nexport default useApiUser;\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,UAAU,GAAIC,GAAG,IAAK;EAAAC,GAAA;EAAA,IAAAC,EAAA,GAAAC,YAAA;EACxB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC,CAAC;EACpC,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMa,QAAQ,GAAG,MAAOC,OAAO,IAAK;IAChC,IAAI;MACAJ,YAAY,CAAC,IAAI,CAAC;MAClB,MAAMK,QAAQ,GAAG,MAAMd,KAAK,CAACe,IAAI,CAACb,GAAG,EAAEW,OAAO,CAAC;MAC/CN,OAAO,CAAES,QAAQ,KAAM;QACnB,GAAGA,QAAQ;QACXC,GAAG,EAAEH,QAAQ,CAACR;MAClB,CAAC,CAAC,CAAC;MACHG,YAAY,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC,OAAOS,KAAK,EAAE;MACZP,UAAU,CAAC,IAAI,CAAC;MAChBQ,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACxB,CAAC,SAAS;MACNT,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC;EAED,MAAMW,cAAc,GAAG,MAAOP,OAAO,IAAK;IAAAT,EAAA;IACtC,MAAMQ,QAAQ,CAACC,OAAO,CAAC;IACvBf,SAAS,CAAC,MAAM;MACZqB,OAAO,CAACE,GAAG,CAACf,IAAI,CAAC;IACrB,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EACd,CAAC;EAACF,EAAA,CALIgB,cAAc;EAOpB,MAAME,OAAO,GAAG,MAAOT,OAAO,IAAK;IAC/B,IAAI;MACAJ,YAAY,CAAC,IAAI,CAAC;MAClB,MAAMK,QAAQ,GAAG,MAAMd,KAAK,CAACuB,GAAG,CAACrB,GAAG,EAAEW,OAAO,CAAC;MAC9CN,OAAO,CAACO,QAAQ,CAACR,IAAI,CAAC;IAC1B,CAAC,CAAC,OAAOY,KAAK,EAAE;MACZP,UAAU,CAAC,IAAI,CAAC;MAChBQ,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACxB,CAAC,SAAS;MACNT,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC;EAED,MAAMe,UAAU,GAAG,MAAOC,EAAE,IAAK;IAC7B,IAAI;MACAhB,YAAY,CAAC,IAAI,CAAC;MAClB,MAAMT,KAAK,CAAC0B,MAAM,CAAE,GAAExB,GAAI,IAAGuB,EAAG,EAAC,CAAC;MAClC,MAAME,WAAW,GAAGrB,IAAI,CAACsB,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACJ,EAAE,KAAKA,EAAE,CAAC;MACzDlB,OAAO,CAACoB,WAAW,CAAC;IACxB,CAAC,CAAC,OAAOT,KAAK,EAAE;MACZP,UAAU,CAAC,IAAI,CAAC;MAChBQ,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACxB,CAAC,SAAS;MACNT,YAAY,CAAC,KAAK,CAAC;IACvB;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;EAEJ,CAAC;EAED,OAAO;IACHW,cAAc;IACdd,IAAI;IACJE,SAAS;IACTE,OAAO;IACPE,QAAQ;IACRU,OAAO;IACPE;EACJ,CAAC;AACL,CAAC;AAACrB,GAAA,CApFIF,UAAU;AAsFhB,eAAeA,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}